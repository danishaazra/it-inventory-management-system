const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/login-cxbr162e.js","assets/firebase-vendor-BDhSju_T.js","assets/firebase-app-CdRXrjY0.js","assets/vendor-BdN5Q6dY.js","assets/firebase-auth-V8RQ8eEz.js","assets/firebase-firestore-DyzXcozE.js","assets/register-u4txYmGl.js"])))=>i.map(i=>d[i]);
import{_ as A}from"./qrcode-_3APf9r8.js";import"./vendor-BdN5Q6dY.js";import"./firebase-vendor-BDhSju_T.js";import"./firebase-app-CdRXrjY0.js";import"./firebase-auth-V8RQ8eEz.js";import"./firebase-firestore-DyzXcozE.js";(()=>{const t=(e,a=document)=>a.querySelector(e),h=(e,a=document)=>Array.from(a.querySelectorAll(e)),C=t(".tabs"),p=t("#tab-login"),v=t("#tab-signup"),f=t("#panel-login"),w=t("#panel-signup");t(".tab-indicator");function m(e){const a=e==="signup";[p,v].forEach(s=>s.classList.remove("active")),(a?v:p).classList.add("active"),[f,w].forEach(s=>s.classList.remove("active")),(a?w:f).classList.add("active"),C.classList.toggle("signup",a),p.setAttribute("aria-selected",String(!a)),v.setAttribute("aria-selected",String(a))}p.addEventListener("click",()=>m("login")),v.addEventListener("click",()=>m("signup")),h(".swap a[data-swap]").forEach(e=>e.addEventListener("click",a=>{a.preventDefault(),m(a.currentTarget.getAttribute("data-swap"))})),h(".field.password").forEach(e=>{const a=t("input",e),s=t(".toggle-pass",e);s.addEventListener("click",()=>{const o=a.type==="text";a.type=o?"password":"text",s.setAttribute("aria-label",o?"Show password":"Hide password")})});function n(e,a){const s=e.getAttribute("id"),o=document.getElementById(`${s}-error`);o&&(o.textContent=a||""),e.setAttribute("aria-invalid",a?"true":"false")}function E(e){const a=String(e.value||"").trim(),s=/.+@.+\..+/.test(a);return n(e,s?"":"Enter a valid email address"),s}function b(e,a=1,s="This field is required"){const o=String(e.value||"").trim().length>=a;return n(e,o?"":s),o}f.addEventListener("submit",async e=>{e.preventDefault();const a=E(t("#login-email")),s=b(t("#login-password"),6,"At least 6 characters");if(a&&s){const o=t("#login-email").value.trim(),y=t("#login-password").value,c=e.target.querySelector(".btn.primary"),d=c.textContent;c.disabled=!0,c.textContent="SIGNING IN...";try{const{login:r}=await A(async()=>{const{login:i}=await import("./login-cxbr162e.js");return{login:i}},__vite__mapDeps([0,1,2,3,4,5]));await r(o,y)}catch(r){c.disabled=!1,c.textContent=d,n(t("#login-email"),"");let i="Login failed. Please check your credentials.";r.code==="auth/user-not-found"?i="No account found with this email.":r.code==="auth/wrong-password"?i="Incorrect password. Please try again.":r.code==="auth/invalid-email"?(i="Invalid email address.",n(t("#login-email"),i)):r.code==="auth/too-many-requests"?i="Too many failed attempts. Please try again later.":r.message&&(i=r.message),n(t("#login-password"),i)}}}),w.addEventListener("submit",async e=>{e.preventDefault();const a=b(t("#signup-name"),2,"Enter your full name"),s=E(t("#signup-email")),o=b(t("#signup-password"),8,"At least 8 characters"),y=(()=>{const c=t("#signup-password"),d=t("#signup-confirm"),r=c.value===d.value&&d.value.length>=8;return n(d,r?"":"Passwords must match"),r})();if(a&&s&&o&&y){const c=t("#signup-name").value.trim(),d=t("#signup-email").value.trim(),r=t("#signup-password").value,i=e.target.querySelector(".btn.primary"),k=i?i.textContent:"CREATE ACCOUNT";i&&(i.disabled=!0,i.textContent="CREATING ACCOUNT...");try{const{registerUser:g}=await A(async()=>{const{registerUser:l}=await import("./register-u4txYmGl.js");return{registerUser:l}},__vite__mapDeps([6,1,2,3,4,5]));await g(d,r,c);const u=e.target.querySelector(".btn.primary")||i;u&&(u.disabled=!1,u.textContent="CREATE ACCOUNT",u.style.opacity="1",u.style.cursor="pointer"),n(t("#signup-name"),""),n(t("#signup-email"),""),n(t("#signup-password"),""),n(t("#signup-confirm"),""),t("#signup-name").removeAttribute("aria-invalid"),t("#signup-email").removeAttribute("aria-invalid"),t("#signup-password").removeAttribute("aria-invalid"),t("#signup-confirm").removeAttribute("aria-invalid"),e.target.reset(),alert("Your account has been created!"),m("login")}catch(g){const u=e.target.querySelector(".btn.primary")||i;u&&(u.disabled=!1,u.textContent=k);let l="Registration failed. Please try again.";g.code==="auth/email-already-in-use"?(l="This email is already registered. Please sign in instead.",n(t("#signup-email"),l)):g.code==="auth/weak-password"?(l="Password is too weak. Use at least 8 characters.",n(t("#signup-password"),l)):g.code==="auth/invalid-email"?(l="Invalid email address.",n(t("#signup-email"),l)):(g.message&&(l=g.message),n(t("#signup-email"),l))}}}),m("login")})();
