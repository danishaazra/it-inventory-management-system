const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/login-5f5zEB64.js","assets/firebase-vendor-V7RN5xDf.js","assets/firebase-app-J8-aw7xu.js","assets/vendor-Bg_btqvK.js","assets/firebase-auth-CkiyymQV.js","assets/firebase-firestore-BwGYsYUu.js","assets/register-VLRWcqmO.js"])))=>i.map(i=>d[i]);
import"./qrcode-DoIZHLKK.js";import{J as L}from"./firebase-vendor-V7RN5xDf.js";import{o as P}from"./firebase-auth-CkiyymQV.js";import"./firebase-app-J8-aw7xu.js";import"./firebase-firestore-BwGYsYUu.js";import"./vendor-Bg_btqvK.js";const T="modulepreload",x=function(e){return"/"+e},S={},C=function(E,w,y){let g=Promise.resolve();if(w&&w.length>0){document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),o=(r==null?void 0:r.nonce)||(r==null?void 0:r.getAttribute("nonce"));g=Promise.allSettled(w.map(s=>{if(s=x(s),s in S)return;S[s]=!0;const p=s.endsWith(".css"),b=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${b}`))return;const t=document.createElement("link");if(t.rel=p?"stylesheet":T,p||(t.as="script"),t.crossOrigin="",t.href=s,o&&t.setAttribute("nonce",o),document.head.appendChild(t),p)return new Promise((a,n)=>{t.addEventListener("load",a),t.addEventListener("error",()=>n(new Error(`Unable to preload CSS for ${s}`)))})}))}function h(r){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=r,window.dispatchEvent(o),!o.defaultPrevented)throw r}return g.then(r=>{for(const o of r||[])o.status==="rejected"&&h(o.reason);return E().catch(h)})};(()=>{const e=(t,a=document)=>a.querySelector(t),E=(t,a=document)=>Array.from(a.querySelectorAll(t)),w=e(".tabs"),y=e("#tab-login"),g=e("#tab-signup"),h=e("#panel-login"),r=e("#panel-signup");e(".tab-indicator");function o(t){const a=t==="signup";[y,g].forEach(n=>n.classList.remove("active")),(a?g:y).classList.add("active"),[h,r].forEach(n=>n.classList.remove("active")),(a?r:h).classList.add("active"),w.classList.toggle("signup",a),y.setAttribute("aria-selected",String(!a)),g.setAttribute("aria-selected",String(a))}y.addEventListener("click",()=>o("login")),g.addEventListener("click",()=>o("signup")),E(".swap a[data-swap]").forEach(t=>t.addEventListener("click",a=>{a.preventDefault(),o(a.currentTarget.getAttribute("data-swap"))})),E(".field.password").forEach(t=>{const a=e("input",t),n=e(".toggle-pass",t);n.addEventListener("click",()=>{const c=a.type==="text";a.type=c?"password":"text",n.setAttribute("aria-label",c?"Show password":"Hide password")})});function s(t,a){const n=t.getAttribute("id"),c=document.getElementById(`${n}-error`);c&&(c.textContent=a||""),t.setAttribute("aria-invalid",a?"true":"false")}function p(t){const a=String(t.value||"").trim(),n=/.+@.+\..+/.test(a);return s(t,n?"":"Enter a valid email address"),n}function b(t,a=1,n="This field is required"){const c=String(t.value||"").trim().length>=a;return s(t,c?"":n),c}h.addEventListener("submit",async t=>{t.preventDefault();const a=p(e("#login-email")),n=b(e("#login-password"),6,"At least 6 characters");if(a&&n){const c=e("#login-email").value.trim(),A=e("#login-password").value,d=t.target.querySelector(".btn.primary"),f=d.textContent;d.disabled=!0,d.textContent="SIGNING IN...";try{const{login:l}=await C(async()=>{const{login:i}=await import("./login-5f5zEB64.js");return{login:i}},__vite__mapDeps([0,1,2,3,4,5]));await l(c,A)}catch(l){d.disabled=!1,d.textContent=f,s(e("#login-email"),"");let i="Login failed. Please check your credentials.";l.code==="auth/user-not-found"?i="No account found with this email.":l.code==="auth/wrong-password"?i="Incorrect password. Please try again.":l.code==="auth/invalid-email"?(i="Invalid email address.",s(e("#login-email"),i)):l.code==="auth/too-many-requests"?i="Too many failed attempts. Please try again later.":l.message&&(i=l.message),s(e("#login-password"),i)}}}),r.addEventListener("submit",async t=>{t.preventDefault();const a=b(e("#signup-name"),2,"Enter your full name"),n=p(e("#signup-email")),c=b(e("#signup-password"),8,"At least 8 characters"),A=(()=>{const d=e("#signup-password"),f=e("#signup-confirm"),l=d.value===f.value&&f.value.length>=8;return s(f,l?"":"Passwords must match"),l})();if(a&&n&&c&&A){const d=e("#signup-name").value.trim(),f=e("#signup-email").value.trim(),l=e("#signup-password").value,i=t.target.querySelector(".btn.primary"),k=i?i.textContent:"CREATE ACCOUNT";i&&(i.disabled=!0,i.textContent="CREATING ACCOUNT...");try{const{registerUser:v}=await C(async()=>{const{registerUser:u}=await import("./register-VLRWcqmO.js");return{registerUser:u}},__vite__mapDeps([6,1,2,3,4,5]));await v(f,l,d);const m=t.target.querySelector(".btn.primary")||i;m&&(m.disabled=!1,m.textContent="CREATE ACCOUNT",m.style.opacity="1",m.style.cursor="pointer"),s(e("#signup-name"),""),s(e("#signup-email"),""),s(e("#signup-password"),""),s(e("#signup-confirm"),""),e("#signup-name").removeAttribute("aria-invalid"),e("#signup-email").removeAttribute("aria-invalid"),e("#signup-password").removeAttribute("aria-invalid"),e("#signup-confirm").removeAttribute("aria-invalid"),t.target.reset(),alert("Your account has been created!"),o("login")}catch(v){const m=t.target.querySelector(".btn.primary")||i;m&&(m.disabled=!1,m.textContent=k);let u="Registration failed. Please try again.";v.code==="auth/email-already-in-use"?(u="This email is already registered. Please sign in instead.",s(e("#signup-email"),u)):v.code==="auth/weak-password"?(u="Password is too weak. Use at least 8 characters.",s(e("#signup-password"),u)):v.code==="auth/invalid-email"?(u="Invalid email address.",s(e("#signup-email"),u)):(v.message&&(u=v.message),s(e("#signup-email"),u))}}}),o("login")})();P(L,e=>{e&&console.log("User is already authenticated, but staying on login page")});
